{"version":3,"sources":["webpack:///C:/Users/大葱哥哥/Desktop/meituan/pages/takeout/components/ordering.vue?6f0d","webpack:///C:/Users/大葱哥哥/Desktop/meituan/pages/takeout/components/ordering.vue?1965","webpack:///C:/Users/大葱哥哥/Desktop/meituan/pages/takeout/components/ordering.vue?40ec","webpack:///C:/Users/大葱哥哥/Desktop/meituan/pages/takeout/components/ordering.vue?f72a","uni-app:///pages/takeout/components/ordering.vue","webpack:///C:/Users/大葱哥哥/Desktop/meituan/pages/takeout/components/ordering.vue?35b3","webpack:///C:/Users/大葱哥哥/Desktop/meituan/pages/takeout/components/ordering.vue?560a"],"names":[],"mappings":"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A;AAGA;AACA;AACA;AACA,KAzBA;AA0BA;AACA,cA3BA,wBA2BA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAlCA;AAmCA;AACA,cApCA,wBAoCA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA,KA7CA,EAhMA;;;;;AAkPA;AACA;AACA,gBAFA,wBAEA,QAFA,EAEA,QAFA,EAEA;AACA;;AAEA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA,OAFA;AAGA;AACA;;;;AAIA,KAlCA;;AAoCA;AACA,YArCA,oBAqCA,QArCA,EAqCA,QArCA,EAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjDA,EAlPA,E;;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AAA2+B,CAAgB,q8BAAG,EAAC,C;;;;;;;;;;;ACA//B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/takeout/components/ordering.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"\nvar renderjs\nimport script from \"./ordering.vue?vue&type=script&lang=js&\"\nexport * from \"./ordering.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bf8a0c8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/takeout/components/ordering.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.flat && _vm.settLement()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 切换 -->\r\n\t<view class=\"ordering-fls\">\r\n\t\t\t<!-- 左边 -->\r\n\t\t\t<view class=\"ordering-left\">\r\n\t\t\t\t<block v-for=\"(item,index) in orderclass\" :key=\"index\">\r\n\t\t\t\t<text :class=\"{activeord:index == numing}\" @click=\"ordermeClic(index,item)\">{{item}}</text>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t<!-- 右边 -->\r\n\t\t\t<view class=\"ordering-right\">\r\n\t\t\t\t<text class=\"ordering-right-title\">{{ordertitle}}</text>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<block v-for=\"(item,index) in classifarr\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"content-view\">\r\n\t\t\t\t\t\t\t<view class=\"content-img\">\r\n\t\t\t\t\t\t\t\t<image :src=\"item.objdis.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t</view> \r\n\t\t\t\t\t\t\t<view class=\"content-title\">\r\n\t\t\t\t\t\t\t\t<text class=\"conteng-take\">{{item.objdis.input}}</text>\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-monthly\">\r\n\t\t\t\t\t\t\t\t\t<block v-for=\"(itemdata,index) in item.objdis.tags\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<text>{{itemdata}}</text>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-starting\">\r\n\t\t\t\t\t\t\t\t\t<text>月售0</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-price\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-shi\">¥{{item.objdis.Discount}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-hua\">¥{{item.objdis.Price}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"ordering-price\">\r\n\t\t\t\t\t\t\t\t\t\t<image @click=\"reDuce(index,item._id,item.objdis.Discount,item.amount,item.objdis.image,item.objdis.input,)\" src=\"../../../static/coen/jianhao.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"amounting\">{{item.amount}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<image @click=\"pLus(index,item._id,item.objdis.Discount,item.amount,item.objdis.image,item.objdis.input,)\" src=\"../../../static/coen/jiahao.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\r\n\t\t\r\n\t\t\t<!-- 购物车 -->\r\n\t\t<view class=\"Shopping\">\r\n\t\t\t<!-- 骑手 -->\r\n\t\t\t<view class=\"qishou\">\r\n\t\t\t\t<image v-if=\"!isActive\" src=\"../../../static/coen/weigou.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<image v-if=\"isActive\" src=\"../../../static/coen/yigou.png\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t\t<!-- 多少量 -->\r\n\t\t\t<view class=\"Numbering\" v-if=\"isActive\">{{Takeleng.length}}</view>\r\n\t\t\t<!-- 金额 -->\r\n\t\t\t<view class=\"Shopping-dis\">\r\n\t\t\t\t<view class=\"Shopping-left\">\r\n\t\t\t\t\t<view class=\"Cost-mony\">\r\n\t\t\t\t\t\t<text class=\"Total-price\">¥{{Takeawayprice}}</text>\r\n\t\t\t\t\t\t<text class=\"Delivery\">另需配送费{{physical}}元</text>\r\n\t\t\t\t\t</view> \r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"Shopping-right\" :class=\"{ shoppactive: isActive }\" @click=\"flat && settLement()\">\r\n\t\t\t\t\t<text v-if=\"!isActive\">{{deliverdata}}元起送</text>\r\n\t\t\t\t\t<text v-if=\"isActive\">{{difference}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n\t<!-- 引入模态框 -->\r\n\t<motal ref=\"mon\"></motal>\r\n\t</view>\n</template>\n\n<script>\r\n\t// 引入登录模态组件\r\n\timport motal from '../../../element/modal.vue'\r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\tmotal\r\n\t\t},\r\n\t\tprops:{\r\n\t\t\torderingdata:Array,\r\n\t\t\tbusidata:Object\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 左边分类\r\n\t\t\t\torderclass:[],\r\n\t\t\t\t// 右边商品\r\n\t\t\t\tcommodity:[],\r\n\t\t\t\t// 右边商品第一项\r\n\t\t\t\tclassifarr:[],\r\n\t\t\t\t// 配送费\r\n\t\t\t\tphysical:0,\r\n\t\t\t\t// 起送价\r\n\t\t\t\tdeliverdata:0,\r\n\t\t\t\t// 商户标识\r\n\t\t\t\tMerchantID:'',\r\n\t\t\t\t// 商家名称\r\n\t\t\t\tnameshop:'',\r\n\t\t\t\t// 商家logo\r\n\t\t\t\tlogo:'',\r\n\t\t\t\tnuming:0,\r\n\t\t\t\t// 数量\r\n\t\t\t\tamount:0,\r\n\t\t\t\t// 右边分类\r\n\t\t\t\tordertitle:'',\r\n\t\t\t\tisActive:false,\r\n\t\t\t\tarrtotalPrice:[],\r\n\t\t\t\t// 总价\r\n\t\t\t\tTakeawayprice:0,\r\n\t\t\t\t// 点了几份\r\n\t\t\t\tTakeleng:[],\r\n\t\t\t\t// 还差多少元\r\n\t\t\t\tdifference:'',\r\n\t\t\t\t// 禁掉点击\r\n\t\t\t\tflat:false,\r\n\t\t\t\torderme:[\r\n\t\t\t\t\t'沾水',\r\n\t\t\t\t\t'精致套房',\r\n\t\t\t\t\t'精致双拼',\r\n\t\t\t\t\t'品质卤肉',\r\n\t\t\t\t\t'精品小吃',\r\n\t\t\t\t\t'凉拌菜品',\r\n\t\t\t\t\t'夏日靓饮',\r\n\t\t\t\t\t'精致米饭'\r\n\t\t\t\t],\r\n\t\t\t\ttackout: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\":1,\r\n\t\t\t\t\t\t\"img\":'../../../static/you/mn1.jpg',\r\n\t\t\t\t\t\t\"title\":\"原味黄焖鸡米饭\",\r\n\t\t\t\t\t\t\"character\":['不辣','鸭','鹅肉','鹅腿','鸡'],\r\n\t\t\t\t\t\t\"sales\":120,\r\n\t\t\t\t\t\t\"price\":2,\r\n\t\t\t\t\t\t\"costprice\":300,\r\n\t\t\t\t\t\t\"amount\":0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\":2,\r\n\t\t\t\t\t\t\"img\":'../../../static/you/mn2.jpg',\r\n\t\t\t\t\t\t\"title\":\"香菇肉丝\",\r\n\t\t\t\t\t\t\"character\":['不辣','鸭','鹅肉','鹅腿','鸡'],\r\n\t\t\t\t\t\t\"sales\":120,\r\n\t\t\t\t\t\t\"price\":2.5,\r\n\t\t\t\t\t\t\"costprice\":300,\r\n\t\t\t\t\t\t\"amount\":0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\":3,\r\n\t\t\t\t\t\t\"img\":'../../../static/you/mn3.jpg',\r\n\t\t\t\t\t\t\"title\":\"土豆肉丝盖浇饭\",\r\n\t\t\t\t\t\t\"character\":['不辣','鸭','鹅肉','鹅腿','鸡'],\r\n\t\t\t\t\t\t\"sales\":120,\r\n\t\t\t\t\t\t\"price\":1,\r\n\t\t\t\t\t\t\"costprice\":300,\r\n\t\t\t\t\t\t\"amount\":0,\r\n\t\t\t\t\t}\r\n\t\t\t\t]\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 去结算\r\n\t\t\tsettLement(){\r\n\t\t\t\tlet payment = parseFloat((this.Takeawayprice + this.physical).toFixed(10))\r\n\t\t\t\tlet setdata = uni.getStorageSync('usermen')\r\n\t\t\t\t// console.log(setdata)\r\n\t\t\t\tif(!setdata){\r\n\t\t\t\t\tconsole.log('用户没有登录')\r\n\t\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\t\tthis.$refs.mon.init()\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log('用户已登录')\r\n\t\t\t\t\tlet Ordering = {\r\n\t\t\t\t\t\tpayment,\r\n\t\t\t\t\t\tphysical:this.physical,\r\n\t\t\t\t\t\tallorder:this.Takeleng,\r\n\t\t\t\t\t\topenid:setdata.openid,\r\n\t\t\t\t\t\tMerchantID:this.MerchantID,\r\n\t\t\t\t\t\tnameshop:this.nameshop,\r\n\t\t\t\t\t\tlogo:this.logo\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(Ordering)\r\n\t\t\t\t\tlet strorder = JSON.stringify(Ordering)\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../placeorder/placeorder?ide=' + strorder\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 左边\r\n\t\t\tordermeClic(index,itemclass){\r\n\t\t\t\tthis.numing = index\r\n\t\t\t\tthis.ordertitle = itemclass\r\n\t\t\t\t// 切换分类\r\n\t\t\t\t// 筛选第一项作为进入页面的展示\r\n\t\t\t\tlet itemarr = this.commodity.filter((item)=>{\r\n\t\t\t\t\treturn item.optidata == itemclass\r\n\t\t\t\t})\r\n\t\t\t\tthis.classifarr = itemarr\r\n\t\t\t\tconsole.log(this.classifarr)\r\n\t\t\t\t// 回到顶部\r\n\t\t\t\twx.pageScrollTo({\r\n\t\t\t\t\tscrollTop:0\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 加价\r\n\t\t\tpLus(indexdata,indexs,price,amounts,image,input){\r\n\t\t\t\t// console.log(price)\r\n\t\t\t\t// console.log(amounts)\r\n\t\t\t\tthis.amount = Number(amounts) + Number(1)\r\n\t\t\t\t// console.log(this.amount)\r\n\t\t\t\tthis.pullData(indexdata,indexs,price,image,input)\r\n\t\t\t},\r\n\t\t\t// 减价\r\n\t\t\treDuce(indexdata,indexs,price,amounts,image,input){\r\n\t\t\t\tthis.amount = Number(amounts) - Number(1)\r\n\t\t\t\tthis.pullData(indexdata,indexs,price,image,input)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加减价公用函数\r\n\t\t\tpullData(indexdata,indexs,price,image,input){\r\n\t\t\t\tlet findarr = this.classifarr.filter((item, index)=>{\r\n\t\t\t\t\tif(item._id == indexs){\r\n\t\t\t\t\t\tif(this.amount <1){\r\n\t\t\t\t\t\t\t// console.log('进入' + this.amount)\r\n\t\t\t\t\t\t\treturn item.amount = '0'\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn item.amount = this.amount\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}) \r\n\t\t\t\t// console.log(findarr)\r\n\t\t\t\t// 得到更改的数组再重新更新数组，数组顺序不变\r\n\t\t\t\tthis.classifarr[indexdata] = findarr[0]\r\n\t\t\t\t// 计算总价,单价 * 数量\r\n\t\t\t\tif(Number(this.amount) <= 0){\r\n\t\t\t\t\tthis.amount = 0\r\n\t\t\t\t}\r\n\t\t\t\tlet Totalnum = price * Number(this.amount)\r\n\t\t\t\t// 去小数点\r\n\t\t\t\tlet Totalprice = parseFloat((Totalnum).toFixed(10))\r\n\t\t\t\t// console.log(Totalprice)\r\n\t\t\t\tlet fands = {\r\n\t\t\t\t\tindexs,\r\n\t\t\t\t\tTotalprice,\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tinput,\r\n\t\t\t\t\t\"amount\":this.amount,\r\n\t\t\t\t\tprice\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.arrtotalPrice.push(fands)\r\n\t\t\t\t// console.log(this.arrtotalPrice)\r\n\t\t\t\t// 查询已点击的数组id，匹配上，替换总价\r\n\t\t\t\tlet findarrdata = this.arrtotalPrice.map((item)=>{\r\n\t\t\t\t\t\treturn item.indexs == indexs ? fands : item\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(this.arrtotalPrice)\r\n\t\t\t\t// console.log(findarrdata)\r\n\t\t\t\tthis.arrtotalPrice = findarrdata\r\n\t\t\t\t// console.log(this.arrtotalPrice)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\tcomputed:{\r\n\t\t\t// 监听总价计算\r\n\t\t\tCalculation(){\r\n\t\t\t\t\r\n\t\t\t\t// 数组对象去重\r\n\t\t\t\tlet hash = {};\r\n\t\t\t\tconst hashdata = this.arrtotalPrice.reduce((preVal, curVal) => {\r\n\t\t\t\t    hash[curVal.indexs] ? '' : hash[curVal.indexs] = true && preVal.push(curVal); \r\n\t\t\t\t    return preVal \r\n\t\t\t\t}, [])\r\n\t\t\t\t// console.log(hashdata)\r\n\t\t\t\t// 剔除掉价格为0的\r\n\t\t\t\tthis.Takeleng = hashdata.filter((item)=>{\r\n\t\t\t\t\treturn item.Totalprice != 0;\r\n\t\t\t\t})\r\n\t\t\t\t// 最终提交到数据库的结果\r\n\t\t\t\t// console.log(this.Takeleng)\r\n\t\t\t\t// 总价计算\r\n\t\t\t\tlet numdata = 0\r\n\t\t\t\thashdata.forEach((item)=>{\r\n\t\t\t\t\tnumdata += item.Totalprice\r\n\t\t\t\t})\r\n\t\t\t\t// 总价计算\r\n\t\t\t\tthis.Takeawayprice = parseFloat((numdata).toFixed(10))\r\n\t\t\t\t// console.log(parseFloat((numdata).toFixed(10)))\r\n\t\t\t},\r\n\t\t\t//监听是否已选择外卖\r\n\t\t\tchoiceTake(){\r\n\t\t\t\t// console.log(this.Takeawayprice)\r\n\t\t\t\tif(this.Takeawayprice === 0){\r\n\t\t\t\t\tthis.isActive = false\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.isActive = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 监听起送价格\r\n\t\t\tdelivering(){\r\n\t\t\t\tif(this.Takeawayprice < this.deliverdata){\r\n\t\t\t\t\tlet preceMen = parseFloat((this.deliverdata - this.Takeawayprice).toFixed(10))\r\n\t\t\t\t\tthis.difference = '还差' + preceMen + '元'\r\n\t\t\t\t\tthis.flat = false\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.difference = '去结算'\r\n\t\t\t\t\tthis.flat = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\r\n\t\twatch:{\r\n\t\t\t// 取出分类和分类的商品\r\n\t\t\torderingdata(newvalue,oldvalue){\r\n\t\t\t\tconsole.log(newvalue)\r\n\t\t\t\t\r\n\t\t\t\t// 分类\r\n\t\t\t\tlet classifdtata = newvalue.map((item)=>{\r\n\t\t\t\t\treturn item.optidata\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(classifdtata)\r\n\t\t\t\t// 去重\r\n\t\t\t\tlet setdataarr = Array.from(new Set(classifdtata))\r\n\t\t\t\tconsole.log(setdataarr)\r\n\t\t\t\tthis.orderclass = setdataarr\r\n\t\t\t\t\r\n\t\t\t\t// 右边商品\r\n\t\t\t\t\r\n\t\t\t\tthis.commodity = newvalue\r\n\t\t\t\t// 右边的分类\r\n\t\t\t\tthis.ordertitle = newvalue[0].optidata\r\n\t\t\t\tlet commoditytata = newvalue.map((item)=>{\r\n\t\t\t\t\tlet key = \"amount\"\r\n\t\t\t\t\tlet value = 0\r\n\t\t\t\t\treturn item[key] = value\r\n\t\t\t\t})\r\n\t\t\t\t// 筛选第一项作为进入页面的展示\r\n\t\t\t\tlet classifarr = this.commodity.filter((item)=>{\r\n\t\t\t\t\treturn item.optidata == newvalue[0].optidata\r\n\t\t\t\t})\r\n\t\t\t\tthis.classifarr = classifarr\r\n\t\t\t\tconsole.log(classifarr)\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 起送价格\r\n\t\t\tbusidata(newvalue,oldvalue){\r\n\t\t\t\tconsole.log(newvalue)\r\n\t\t\t\t// 配送费\r\n\t\t\t\tthis.physical = newvalue.physical\r\n\t\t\t\t// 起送价\r\n\t\t\t\tthis.deliverdata = newvalue.delivering\r\n\t\t\t\t// 商户标识\r\n\t\t\t\tthis.MerchantID = newvalue.openid\r\n\t\t\t\t// 商家名称\r\n\t\t\t\tthis.nameshop = newvalue.shop\r\n\t\t\t\t// 商家logo\r\n\t\t\t\tthis.logo = newvalue.logo\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t.ordering-fls{display: flex; justify-content: space-between;}\r\n\t.ordering-left{width: 190upx; background: #fafafa;\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n\t}\r\n\t.ordering-left text{\r\n\tcolor: #a8a8a8;\r\n\tdisplay: block;\r\n\tfont-size: 28upx;\r\n\theight: 80upx;\r\n\tline-height: 80upx;\r\n\ttext-align: center;}\r\n\t/* 右边 */\r\n\t.ordering-right{width: 100%;\r\n\tpadding: 9upx 9upx 130upx 9upx;\r\n\toverflow: hidden;\r\n\toverflow-y: auto;\r\n\t}\r\n\t.activeord{background: #FFFFFF !important; font-weight: bold !important;}\r\n\t\r\n\t.ordering-right-title{font-size: 28upx;\r\n\theight: 60upx;\r\n\tline-height: 60upx;}\r\n\t\r\n\t.content-view{\r\n\tdisplay: flex; justify-content: space-between;\r\n\theight: 200upx !important; overflow: hidden;\r\n\tmargin: 30upx 0;\r\n\tcolor: #898989;\r\n\t}\r\n\t.content-img{width: 180rpx !important; height: 200rpx !important;\r\n\toverflow: hidden;\r\n\t}\r\n\t.content-img image{width: 100%; height: 100%; border-radius: 10upx;\r\n\toverflow: hidden;}\r\n\t.content-title{\r\n\t/* width: 100%; */\r\n\tpadding-left: 10upx;\r\n\tfont-size: 24upx;\r\n\t}\r\n\t\r\n\t.conteng-take{\r\n\tcolor: #333333;\r\n\theight: 50upx; font-size: 33upx;\r\n\tfont-weight: bold;\r\n\tline-height: 50upx;\r\n\tdisplay: -webkit-box;\r\n\t-webkit-box-orient: vertical;\r\n\t-webkit-line-clamp: 1;\r\n\toverflow: hidden;}\r\n\t.conteng-monthly{display: flex;\r\n\t}\r\n\t.conteng-monthly text{background: #f1f1f1;\r\n\tmargin-right: 9upx;\r\n\tpadding: 4upx 13upx;\r\n\tborder-radius: 7upx;\r\n\tdisplay: block;\r\n\t}\r\n\t.conteng-starting{display: flex;\r\n\talign-items: center;\r\n\theight: 50upx;\r\n\tline-height: 50upx;}\r\n\t.conteng-price image{width: 60upx; height: 60upx;}\r\n\t.conteng-price{display: flex; align-items: center;}\r\n\t.ordering-price{display: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-around;\r\n\twidth: 100%;\r\n\t}\r\n\t/* 数量 */\r\n\t.amounting{\r\n\twidth: 50upx;\r\n\ttext-align: center;}\r\n\t.conteng-hua{text-decoration: line-through;\r\n\t}\r\n\t.conteng-shi{color: #fb4e44; font-size: 33upx;\r\n\twidth: 180upx;\r\n\toverflow: hidden;\r\n\t}\r\n\t/* 购物车 */\r\n\t.Shopping{position: fixed;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\twidth: 100%;\r\n\t}\r\n\t.Shopping-left{\r\n\theight: 130upx;\r\n\tbackground: #000000; flex-grow: 2;\r\n\tborder-top-left-radius: 50upx;\r\n\tborder-bottom-left-radius: 50upx;\r\n\t}\r\n\t.Shopping-right{\r\n\theight: 130upx;\r\n\tline-height: 130upx;\r\n\tfont-size: 30upx;\r\n\tcolor: #7f7f7f;\r\n\ttext-align: center;\r\n\tbackground: #000000; flex-grow: 1;\r\n\tborder-top-right-radius: 50upx;\r\n\tborder-bottom-right-radius: 50upx;}\r\n\t.Shopping-dis{display: flex;\r\n\theight: 130upx;\r\n\tmargin: 0 20upx;\r\n\t}\r\n\t.qishou{width: 120upx; height: 150upx;\r\n\tposition: fixed;\r\n\tbottom: 0upx;\r\n\tleft: 50upx;\r\n\t}\r\n\t.qishou image{width: 120upx; height: 150upx !important;}\r\n\t/* 定位 */\r\n\t.Delivery{color: #999999;\r\n\tfont-size: 28upx;\r\n\theight: 65upx;}\r\n\t.Shopping-left text{display: block;}\r\n\t.Total-price{font-size: 40upx; color: #FFFFFF;\r\n\theight: 65upx;\r\n\tline-height: 65upx;\r\n\t}\r\n\t.Cost-mony{padding-left: 170upx; color: #4CD964;\r\n\theight: 130upx;\r\n\t}\r\n\t/* 数量 */\r\n\t.Numbering{\r\n\tbackground: red;\r\n\twidth: 40upx;\r\n\theight: 40upx;\r\n\tborder-radius: 50%;\r\n\tfont-size: 20upx;\r\n\tcolor: #FFFFFF;\r\n\ttext-align: center;\r\n\tline-height: 40upx;\r\n\tposition: fixed;\r\n\tbottom: 50upx;\r\n\tleft: 130upx;}\r\n\t/* 选中菜品 */\r\n\t.shoppactive{background: #ffd300 !important;\r\n\tcolor: #000000 !important;}\n</style>\n","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1599822886950\n      var cssReload = require(\"C:/Users/大葱哥哥/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}